<!DOCTYPE html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Assessment</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
<style type="text/css">
body {
	background-color: #C5C5AA;
}
</style>

<style>
/* Style all input fields */
input {
	width: 100%;
	padding: 12px;
	border: 1px solid #ccc;
	border-radius: 4px;
	box-sizing: border-box;
	margin-top: 6px;
	margin-bottom: 16px;
}

/* Style the submit button */
input[type=submit] {
	background-color: #4CAF50;
	color: white;
}

/* Style the container for inputs */
.container {
	background-color: #f1f1f1;
	padding: 20px;
}

/* The message box is shown when the user clicks on the password field */
#message {
	display: none;
	background: #f1f1f1;
	color: #000;
	position: relative;
	padding: 20px;
	margin-top: 10px;
}

#message p {
	padding: 10px 35px;
	font-size: 11px;
}

/* Add a green text color and a checkmark when the requirements are right */
.valid {
	color: green;
}

.valid:before {
	position: relative;
	left: -35px;
	content: "âœ”";
}

/* Add a red text color and an "x" when the requirements are wrong */
.invalid {
	color: red;
}

.invalid:before {
	position: relative;
	left: -35px;
	content: "âœ–";
}
</style>

</head>

<body>
	<div class="container-fluid">
		<div class="row">
			<div class="col-auto col-md-12 align-self-center m-auto"
				style="width: 350px; max-width: 650px; padding-bottom: 0px; margin-top: -2px;">
				<form id="register-invoice">
					<div class="form-group">
						<h6>Client name</h6>
					</div>
					<div class="form-group">
						<input id="clientName" type="text" class="form-control" required
							autofocus placeholder="Enter client name" />
					</div>
					<div class="form-group">
						<h6>Vat Rate</h6>
					</div>
					<div class="form-group">
						<input id="vatRate" type="text" class="form-control" required
							placeholder="Enter vat rate" />
					</div>
					<div class="form-group">
						<h6>Quantity</h6>
					</div>
					<div class="form-group">
						<input id="quantity" class="form-control" type="text" />
					</div>
					<div class="form-group">
						<h6>Description</h6>
					</div>
					<div class="form-group">
						<input type="text" id="description" required class="form-control"
							placeholder="Enter description" />
					</div>
					<div class="form-group">
						<h6>Unit Price</h6>
					</div>
					<div class="form-group">
						<input type="text" id="unitPrice" required 
							class="form-control" placeholder="Enter unit price" />
					</div>
					<div class="form-group" style="margin-top: 0px; padding-top: 26px;">
						<button class="btn btn-light float-right"  style="background-color:#F1592A;" id="register-btn"
							type="submit">Submit</button>
					</div>
				</form>
			</div>
		</div>
	</div>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/js/bootstrap.bundle.min.js"></script>
	<script>
		$(document)
				.ready(
						function() {
							$("#register-invoice")
									.submit(
											function(event) {												
												event.preventDefault();
												var regForm = {};
												regForm["clientName"] = $("#clientName").val(),
												regForm["vatRate"] = $("#vatRate").val(),
												regForm["lineItem"] = [ {
													quantity : $("#quantity")
															.val(),
													description : $("#description")
															.val(),
													unitPrice : $("#unitPrice")
															.val()
												}]
												$("#register-btn").prop(
														"disabled", true);
												$
														.ajax({
															type : "POST",
															contentType : "application/json",
															url : "api/invoice",
															data : JSON
																	.stringify(regForm),
															dataType : "json",
															cache : false,
															timeout : 600000,
															success : function(data) {
																 $("#message").hide();
																 $("#message-register").html(
																			"<p style='color:green;'>" +
																			"Admin created successfully <br>" +
																			"</p>"
																			);
																var json = "<h4>Ajax Response</h4><pre>"
																		+ JSON
																				.stringify(
																						data,
																						null,
																						4)
																		+ "</pre>";
																console
																		.log(
																				"SUCCESS : ",
																				data);
																$(
																		"#register-btn")
																		.prop(
																				"disabled",
																				false);
																resetData();
															},
															error : function(e) {
																console
																		.log(
																				"ERROR : ",
																				e);
																$(
																		"#register-btn")
																		.prop(
																				"disabled",
																				false);
															}
														});
											});
							function resetData() {
								$("#clientName").val("");
								$("#vatRate").val("");
								$("#quantity").val("");
								$("#description").val("");
								$("#unitPrice").val("");								
							}
						});
	</script>
</body>

</html>